{"ast":null,"code":"import _regeneratorRuntime from\"C:/React/Chapter 3/music-player/react-player/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"C:/React/Chapter 3/music-player/react-player/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"C:/React/Chapter 3/music-player/react-player/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LibrarySong=function LibrarySong(_ref){var song=_ref.song,songs=_ref.songs,setCurrentSong=_ref.setCurrentSong,id=_ref.id,audioRef=_ref.audioRef,isPlaying=_ref.isPlaying,setSongs=_ref.setSongs;var songSelectHandler=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var newSongs;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return setCurrentSong(song);case 2://Add active state\nnewSongs=songs.map(function(song){if(song.id===id){return _objectSpread(_objectSpread({},song),{},{active:true});}else{return _objectSpread(_objectSpread({},song),{},{active:false});}});setSongs(newSongs);if(isPlaying)audioRef.current.play();case 5:case\"end\":return _context.stop();}}},_callee);}));return function songSelectHandler(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{onClick:songSelectHandler,className:\"library-song \".concat(song.active?\"selected\":\"\"),children:[/*#__PURE__*/_jsx(\"img\",{alt:song.name,src:song.cover}),/*#__PURE__*/_jsxs(\"div\",{className:\"song-description\",children:[/*#__PURE__*/_jsx(\"h3\",{children:song.name}),/*#__PURE__*/_jsx(\"h4\",{children:song.artist})]})]});};export default LibrarySong;","map":{"version":3,"sources":["C:/React/Chapter 3/music-player/react-player/src/components/LibrarySong.js"],"names":["React","LibrarySong","song","songs","setCurrentSong","id","audioRef","isPlaying","setSongs","songSelectHandler","newSongs","map","active","current","play","name","cover","artist"],"mappings":"qeAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,C,wFAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,MAQd,IAPJC,CAAAA,IAOI,MAPJA,IAOI,CANJC,KAMI,MANJA,KAMI,CALJC,cAKI,MALJA,cAKI,CAJJC,EAII,MAJJA,EAII,CAHJC,QAGI,MAHJA,QAGI,CAFJC,SAEI,MAFJA,SAEI,CADJC,QACI,MADJA,QACI,CACJ,GAAMC,CAAAA,iBAAiB,2FAAG,sKAClBL,CAAAA,cAAc,CAACF,IAAD,CADI,QAExB;AACMQ,QAHkB,CAGPP,KAAK,CAACQ,GAAN,CAAU,SAACT,IAAD,CAAU,CACnC,GAAIA,IAAI,CAACG,EAAL,GAAYA,EAAhB,CAAoB,CAClB,sCACKH,IADL,MAEEU,MAAM,CAAE,IAFV,GAID,CALD,IAKO,CACL,sCACKV,IADL,MAEEU,MAAM,CAAE,KAFV,GAID,CACF,CAZgB,CAHO,CAgBxBJ,QAAQ,CAACE,QAAD,CAAR,CACA,GAAIH,SAAJ,CAAeD,QAAQ,CAACO,OAAT,CAAiBC,IAAjB,GAjBS,sDAAH,kBAAjBL,CAAAA,iBAAiB,2CAAvB,CAmBA,mBACE,aACE,OAAO,CAAEA,iBADX,CAEE,SAAS,wBAAkBP,IAAI,CAACU,MAAL,CAAc,UAAd,CAA2B,EAA7C,CAFX,wBAIE,YAAK,GAAG,CAAEV,IAAI,CAACa,IAAf,CAAqB,GAAG,CAAEb,IAAI,CAACc,KAA/B,EAJF,cAKE,aAAK,SAAS,CAAC,kBAAf,wBACE,oBAAKd,IAAI,CAACa,IAAV,EADF,cAEE,oBAAKb,IAAI,CAACe,MAAV,EAFF,GALF,GADF,CAYD,CAxCD,CA0CA,cAAehB,CAAAA,WAAf","sourcesContent":["import React from \"react\";\r\n\r\nconst LibrarySong = ({\r\n  song,\r\n  songs,\r\n  setCurrentSong,\r\n  id,\r\n  audioRef,\r\n  isPlaying,\r\n  setSongs,\r\n}) => {\r\n  const songSelectHandler = async () => {\r\n    await setCurrentSong(song);\r\n    //Add active state\r\n    const newSongs = songs.map((song) => {\r\n      if (song.id === id) {\r\n        return {\r\n          ...song,\r\n          active: true,\r\n        };\r\n      } else {\r\n        return {\r\n          ...song,\r\n          active: false,\r\n        };\r\n      }\r\n    });\r\n    setSongs(newSongs);\r\n    if (isPlaying) audioRef.current.play();\r\n  };\r\n  return (\r\n    <div\r\n      onClick={songSelectHandler}\r\n      className={`library-song ${song.active ? \"selected\" : \"\"}`}\r\n    >\r\n      <img alt={song.name} src={song.cover}></img>\r\n      <div className=\"song-description\">\r\n        <h3>{song.name}</h3>\r\n        <h4>{song.artist}</h4>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LibrarySong;\r\n"]},"metadata":{},"sourceType":"module"}